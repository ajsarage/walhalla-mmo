ANNEX_PROGRESSION_SOURCES_PROFESSIONS_v1.txt
===========================================

PROYECTO
--------
WalhallaMMOonline

CANON ACTIVO
------------
CANON_UNIFICADO_WALHALLAMMO_v3

TIPO DE DOCUMENTO
----------------
ANEXO CANÓNICO
(FUENTES DE PROGRESIÓN — OFICIOS)
(FASE F)
(NO IMPLEMENTACIÓN)

REFERENCIAS CANÓNICAS OBLIGATORIAS
---------------------------------
- CONTRACT_SUBBRANCH_PROGRESSION_SOURCES_v1
- CONTRACT_XP_APPLICATION_RULES_v1
- CONTRACT_XP_PERSISTENCE_v1
- MAPA_DE_CONSECUENCIAS_FASE_F_v1


PROPÓSITO
---------
Declarar de forma clara y consistente las fuentes de
progresión aplicables a oficios, diferenciando entre:
- acciones de recolección/uso
- resultados de crafteo
- afinidad de herramienta

Este anexo es declarativo y no define balance ni cantidades.


1) PRINCIPIO GENERAL DE OFICIOS
-------------------------------
Regla PR-G1:
En oficios, la progresión se rige por el RESULTADO de la
acción validada, no por el uso repetido sin resultado.

Regla PR-G2:
La afinidad de herramienta progresa por USO.
La XP de rama/subrama progresa por RESULTADO válido.


2) AFINIDAD DE HERRAMIENTA
-------------------------
Regla PR-A1:
El uso de una herramienta (p. ej. caña, pico, hacha)
genera exclusivamente XP de afinidad de la herramienta.

El uso NO genera por sí mismo:
- XP de rama
- XP de subrama
- XP de jugador


3) PROGRESIÓN POR RECOLECCIÓN (ACCIÓN + RESULTADO)
--------------------------------------------------
Regla PR-R1:
Las ramas y subramas de recolección progresan cuando
existe un resultado válido de la acción.

Ejemplos declarativos:
- Pescar un pez:
  - XP de rama Pescador (según tier del pez)
  - XP de subrama aplicable (si existe)
- Talar un árbol:
  - XP de rama Leñador
- Extraer un bloque mineral:
  - XP de rama Minero

Notas:
- El resultado es la obtención del recurso.
- El balance queda fuera de este anexo.


4) PROGRESIÓN POR CRAFTEO
------------------------
Regla PR-C1:
Las subramas de crafteo progresan exclusivamente
mediante la finalización de una receta válida.

Regla PR-C2:
El crafteo NO progresa por:
- abrir mesas
- colocar recetas
- cancelar procesos

Solo el resultado finalizado genera XP.

Ejemplos declarativos:
- Herrero:
  - XP por craftear armas/armaduras
- Carpintería / derivados:
  - XP por craftear objetos asociados
- Cartógrafo:
  - XP por craftear mapas y por acciones de mapeado


5) SEPARACIÓN MINERO / CRAFTEO (MODELO TIPO ALBION)
---------------------------------------------------
Regla PR-M1:
La rama principal Minero progresa por la acción de minar.

Regla PR-M2:
Las subramas de crafteo asociadas a Minero (fundición,
refinado, manufactura) progresan exclusivamente por
crafteo, no por minería.

Este patrón se replica en otros oficios cuando aplica.


6) PROGRESIÓN MIXTA (ACCIÓN + CRAFTEO)
-------------------------------------
Regla PR-MX1:
Algunas subramas pueden progresar por más de una fuente
(acción y crafteo), si así se declara mediante contrato
o anexo específico.

La coexistencia de fuentes es válida y canónica.


7) AUTORIDAD Y VALIDACIÓN
------------------------
Regla PR-AU1:
El Core es la única autoridad para:
- validar el resultado de la acción
- determinar la fuente de progresión
- aplicar y persistir la XP correspondiente

La UI:
- muestra progreso y resultados
- no decide fuentes ni aplica XP


8) RELACIÓN CON FASE F
---------------------
Este anexo:
- define consecuencias reales de progresión en oficios
- forma parte del alcance permitido de FASE F
- no autoriza implementación automática


CIERRE
------
Anexo canónico de fuentes de progresión para oficios.
